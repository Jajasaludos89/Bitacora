{% extends 'admin/plantilla.html' %}
{% load static %}

{% block contenido %}
<div class="container mt-5">
    <h2 class="text-center text-primary mb-4">Detalle del Sueño</h2>
    <hr>

    <div class="card shadow p-4">
        <h4 class="mb-3 text-info">Usuario: <strong>{{ sueno.usuario.username }}</strong></h4>

        <form method="post">
            {% csrf_token %}
            <div class="mb-3">
                <label class="form-label">Título:</label>
                <input type="text" name="titulo" value="{{ sueno.titulo }}" class="form-control" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Descripción:</label>
                <textarea name="descripcion" class="form-control" rows="4" required>{{ sueno.descripcion }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Fecha de Creación:</label>
                <input type="date" name="fecha_creacion" class="form-control" value="{{ sueno.fecha_creacion|date:'Y-m-d' }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Emociones:</label>
                <ul class="list-group">
                    {% for emocion in emociones %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ emocion.nombre }} 
                            <span class="badge bg-primary rounded-pill">{{ emocion.valor }}</span>
                        </li>
                    {% empty %}
                        <li class="list-group-item text-muted">Sin emociones registradas</li>
                    {% endfor %}
                </ul>
            </div>

            <div class="d-flex justify-content-between mt-4">
                <a href="{% url 'calendario_suenos' %}" class="btn btn-secondary">Volver</a>
                <button type="submit" class="btn btn-success">Guardar Cambios</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
